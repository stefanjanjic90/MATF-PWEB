<!--
raspored zakazanih obaveza
  tabela sa kolonama datum, vreme, rezervisane ucionice, opis obaveze, ime glavnog dezurnog
  sortirana po datumu rastuce (prikazivati samo buduce obaveze)
  npr. pogledati https://godo.matf.bg.ac.rs/preview/
-->

<div ng-controller="rasporedControler">
  <div class="forme_dezurstava">
  
    <p class="imenaFormi">Распоред заказаних обавеза</p>
    
    <!-- poruka o uspesnosti -->
    <div class="alert alert-dismissable alert-success" ng-show="success()">
      <button type="button" class="close" data-dismiss="alert" ng-click="successSet(false)">×</button>
      <strong>Успешна промена!</strong> {{msg}}
    </div>
  
    <!-- poruka o gresci -->
    <div class="alert alert-dismissable alert-danger" ng-show="error()">
      <button type="button" class="close" data-dismiss="alert" ng-click="errorSet(false)">×</button>
      <strong>Грешка!</strong> Дошло је до грешке. Молимо вас покушајте поново са променом.
    </div>
    
    <div class="table-responsive"> 
      <table class="table table-striped table-hover">
        <thead ng-init="sort='datum'; reverse=false">
	  <tr>
            <th ng-click="sort='datum'; reverse=!reverse" title="Кликните за сортирање по датуму.">Датум</th>
            <th ng-click="sort='vreme'; reverse=!reverse" title="Кликните за сортирање по времену.">Време</th>
            <th ng-click="sort='ucionice'; reverse=!reverse" title="Кликните за сортирање по резервисаним учионицама.">Резервисане учионице</th>
            <th ng-click="sort='opis'; reverse=!reverse" title="Кликните за сортирање по обавезама.">Опис обавезе</th>
            <th ng-click="sort='glavni_dezurni'; reverse=!reverse" title="Кликните за сортирање по главном дежурном.">Главни дежурни</th>
            <th ng-show="loged() && koord()">Опције</th> <!-- loged(), koord() -> index.js indexControler;  -->
	  </tr>
	</thead>
	<tbody>
	  <tr ng-repeat="aktivnost in raspored | orderBy:sort:reverse">
	    <td>{{ aktivnost.datum }}</td>
            <td>{{ aktivnost.vreme }}</td>
            <td>{{ aktivnost.ucionice }}</td>
            <td>{{ aktivnost.opis }}</td>
            <td>{{ aktivnost.glavni_dezurni }}</td>
            <td ng-show="loged() && koord()"><button type="submit" class="btn btn-primary btn-sm" name="submit" ng-click="otkaziObavezu(aktivnost.id)"> Откажи обавезу </button></td> <!-- ng-show="loged() && koord()" -->
	  </tr>
	</tbody>
      </table>
    </div>
    
  </div> <!-- forme_dezurstava -->
</div>